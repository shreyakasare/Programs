<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <input type="text" id="num" placeholder="Enter a number" />
      <button onclick="addData()">Add</button>
      <button onclick="displayData()">Display</button>

      <div id="displayArea"></div>
    </div>
  </body>
  <script>
    // 13. Write a JavaScript program to add items to a blank array and display them.

    let array = [];
    function addData() {
      let number = document.getElementById("num").value;

      if (number === "") {
        alert("Please enter a number");
        return;
      }

      array.push(number);
      let newIndex = array.length - 1;
      alert("Element:" + " " + number + " " + "Added at index" + newIndex);
      document.getElementById("num").value = "";
    }

    function displayData() {
      var e = "<hr/>";
      let displayArea = document.getElementById("displayArea");
      if (array.length === 0) {
        displayArea.innerHTML = "No data to display";
        return;
      }
      for (let i = 0; i < array.length; i++) {
        let newIndex = array.length - 1;
        e += "Element: " + i + "=" + array[i] + "<br/>";
      }
      document.getElementById("displayArea").innerHTML = e;
    }

    //  Element:  Added at index 4
    // 1. Write a JavaScript function to check whether an `input` is an array or not.

    function is_array(input) {
      return Array.isArray(input);
    }

    console.log(is_array("w3resource")); // false
    console.log(is_array([1, 2, 4, 0])); // true

    // 2. Write a JavaScript function to clone an array.

    function array_clone(input) {
      return JSON.parse(JSON.stringify(input));
    }

    console.log(array_clone([1, 2, 4, 0])); // [1, 2, 4, 0]
    console.log(array_clone([1, 2, [4, 0]])); // [1, 2, [4, 0]]

    // 3. Write a JavaScript function to get the first element of an array.
    // Passing the parameter 'n' will return the first 'n' elements of the array.

    function first(arr, n = 1) {
      if (n <= 0 || !Array.isArray(arr)) {
        return [];
      }
      return arr.slice(0, n);
    }

    console.log(first([7, 9, 0, -2])); // 7
    console.log(first([], 3)); // []
    console.log(first([7, 9, 0, -2], 3)); // [7, 9, 0]
    console.log(first([7, 9, 0, -2], 6)); // [7, 9, 0, -2]
    console.log(first([7, 9, 0, -2], -3)); // []

    // 4. Write a JavaScript function to get the last element of an array.
    // Passing the parameter 'n' will return the last 'n' elements of the array.

    function last(arr, n) {
      if (n === null || n === undefined) {
        return [arr[arr.length - 1]];
      }
      return arr.slice(-n);
    }

    console.log(last([7, 9, 0, -2])); // -2
    console.log(last([7, 9, 0, -2], 3)); // [9, 0, -2]
    console.log(last([7, 9, 0, -2], 6)); // [7, 9, 0, -2]

    // ================================= String =======================================

    // 5. Write a simple JavaScript program to join all elements of the following
    // array into a string.

    function myColor(arr) {
      myColorr = ["Red", "Green", "White", "Black"];
      return myColorr.join(arr);
    }
    console.log(myColor()); // Red,Green,White,Black
    console.log(myColor()); //Red,Green,White,Black
    console.log(myColor("+")); //Red+Green+White+Black

    // 6. Write a JavaScript program that accepts a number as input and inserts dashes (-)
    // between each even number. For example if you accept 025468 the output should be 0-254-6-8.

    function insertDashes(num) {
      let result = "";
      for (let i = 0; i < num.length; i++) {
        if (parseInt(num[i]) % 2 === 0) {
          result += "-" + num[i];
        } else {
          result += num[i];
        }
      }
      return result.substring(1);
    }

    console.log(insertDashes("025468")); // 0-254-6-8

    // 7. Write a JavaScript program to sort the items of an array.

    function sortArray(arr) {
      return arr.sort((a, b) => a - b);
    }

    console.log(sortArray([-3, 8, 7, 6, 5, -4, 3, 2, 1])); // -4,-3,1,2,3,5,6,7,8

    // 8. Write a JavaScript program to find the most frequent item in an array.
    // Sample array : var arr1=[3, 'a', 'a', 'a', 2, 3, 'a', 3, 'a', 2, 4, 9, 3];
    // Sample Output : a ( 5 times )

    function findMostFrequent(arr) {
      let counts = {};
      let maxCount = 0;
      let mostFrequentItem;
      for (let i = 0; i < arr.length; i++) {
        let item = arr[i];

        counts[item] = (counts[item] || 0) + 1;
        if (counts[item] > maxCount) {
          maxCount = counts[item];
          mostFrequentItem = item;
        }
      }
      return [mostFrequentItem, maxCount];
    }

    // counts : {}
    // maxCount : 0
    // let mostFrequentItem; undefined
    // let arr = [ 3, "a", "a", "a", 2, 3, "a", 3, "a", 2, 4, 9, 3 ]
    // for (let i = 0; i < arr.length; i++) {

    // i = 0 ; arr.length = 13

    // let item = arr[i];
    // arr 0 : 3

    // /*************************** Index : 0 ****************************/
    // let item = arr[i];  // 3

    //  counts[item] = (counts[item] || 0) + 1;

    // (counts[item] || 0) + 1 => 1
    // counts[item] = 1
    // counts : { "3": 1 }

    // if (counts[item] > maxCount) {
    // counts[item] = 1 > maxCount = 0
    // counts[item] = 1
    // maxCount = 1
    // mostFrequentItem = item;
    // item = 3
    // mostFrequentItem = 3

    // /*************************** Index : 1 ****************************/

    //  for (let i = 0; i < arr.length; i++) {
    // i = 1

    // let item = arr[i];
    // arr[1] = "a"
    // item = "a"

    // counts[item] = (counts[item] || 0) + 1;

    console.log(
      findMostFrequent([3, "a", "a", "a", 2, 3, "a", 3, "a", 2, 4, 9, 3])
    );

    // Write a JavaScript program that accepts a string as input and swaps the case of each character.

    function swapString(inp) {
      let pp = inp.split("");
      for (let i = 0; i < pp.length; i++) {
        if (pp[i] === pp[i].toUpperCase()) {
          pp[i] = pp[i].toLocaleLowerCase();
        } else if (pp[i] === pp[i].toLocaleLowerCase()) {
          pp[i] = pp[i].toUpperCase();
        }
      }
      return pp.join("");
    }

    console.log(swapString("The Quick Brown Fox")); //tHE qUICK bROWN fOX

    // 10. Write a JavaScript program that prints the elements of the following array.
    // Note : Use nested for loops.
    // Sample array : var a = [[1, 2, 1, 24], [8, 11, 9, 4], [7, 0, 7, 27], [7, 4, 28, 14], [3, 10, 26, 7]];
    // Sample Output :
    // "row 0"
    // " 1"
    // " 2"
    // " 1"
    // " 24"
    // "row 1"
    // ------
    // ------
    function arrRowCount(arr) {
      for (let i = 0; i < arr.length; i++) {
        console.log("Row", i);
        console.log(arr[i]);
      }
    }

    console.log(
      arrRowCount([
        [1, 2, 1, 24],
        [8, 11, 9, 4],
        [7, 0, 7, 27],
        [7, 4, 28, 14],
        [3, 10, 26, 7],
      ])
    );

    // 11. Write a JavaScript program to find the sum of squares of a numerical vector.

    function sum_sq(arr) {
      let sum = 0;
      return arr.reduce((previousValue, currentValue) => {
        let fff = currentValue * currentValue;
        return (sum += fff);
      });
    }
    console.log(sum_sq([0, 1, 2, 3, 4])); // 30

    // 12. Write a JavaScript program to compute the sum and product of an array of integers.

    function sumArray(sumArr) {
      let sum = 0,
        product = 1;
      sumArr.forEach((val) => {
        product *= val;
        sum += val;
      });
      return { sum, product };
    }
    console.log("sumArray", sumArray([1, 2, 3, 4, 5, 6]));

    // [1, 2, 2, 4, 5, 4, 7, 8, 7, 3, 6];

    // function removeDuplicates(arr) {
    //   let uniqueArr = [];
    //   for (let i = 0; i < arr.length; i++) {
    //     if (uniqueArr.indexOf(arr[i].toLowerCase()) === -1) {
    //       uniqueArr.push(arr[i].toLowerCase());
    //     }
    //   }
    //   return uniqueArr;
    // }

    // 14. Write a JavaScript program to remove duplicate items from an array (ignore case sensitivity).

    function removeDuplicates(dup) {
      let noOfDup = 0;
      let counts = {};
      for (let i = 0; i < dup.length; i++) {
        let item = dup[i];
        counts[item] = (counts[item] || 0) + 1;
        if (counts[item] > 1) {
          noOfDup++;
          dup.splice(i, 1);
          i--;
        }
      }
      return dup;
    }
    console.log(removeDuplicates([1, 2, 2, 4, 5, 4, 7, 8, 7, 3, 6]));

    // 15. We have the following arrays :
    // Write a JavaScript program to display the colors in the following way :
    // "1st choice is Blue ."
    // "2nd choice is Green."
    // "3rd choice is Red."
    // - - - - - - - - - - - - -
    // Note : Use ordinal numbers to tell their position.

    function displayColors(color, o) {
      for (let i = 0; i < color.length; i++) {
        let suffix = o[i < 3 ? i : 3];
        console.log(`${i + 1}${suffix} choice is ${color[i]}`);
      }
      // for (let i = 0; i < color.length; i++) {
      //   for (let j = 0; j < o.length - 1; j++) {
      //     if (i < 3) {
      //       let a = i + 1;
      //       i++;
      //       console.log(a + o[j], "choice is" + " " + color[i - 1]);
      //     } else {
      //       if (i >= 3) {
      //         console.log(i + o[3], "choice is" + " " + color[i - 1]);
      //         i++;
      //       }
      //     }
      //   }
      // }
    }
    console.log(
      displayColors(
        ["Blue ", "Green", "Red", "Orange", "Violet", "Indigo", "Yellow "],
        ["st", "nd", "rd", "th"]
      )
    );

    // 16. Write a JavaScript program to find the leap years in a given range of years.

    function leap_year_range(start, end) {
      let leapYears = [];
      for (let i = start; i <= end; i++) {
        if (i % 4 === 0 && (i % 100 !== 0 || i % 400 === 0)) {
          leapYears.push(i);
        }
      }
      return leapYears;
    }
    console.log(leap_year_range(2000, 2012));

    // var myArray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
    // 17. Write a JavaScript program to shuffle an array.

    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }
    console.log(shuffleArray([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]));

    // 19. There are two arrays with individual values.
    // Write a JavaScript program to compute the sum of each individual
    // index value in the given array.
    // Sample array :
    // array1 = [1,0,2,3,4];
    // array2 = [3,5,6,7,8,13];
    // Expected Output :
    // [4, 5, 8, 10, 12, 13]

    function sum_of_index_values(arr1, arr2) {
      let result = [];
      let length = Math.max(arr1.length, arr2.length);
      for (let i = 0; i < length; i++) {
        let value1 = arr1[i] || 0;
        let value2 = arr2[i] || 0;
        result.push(value1 + value2);
      }
      return result;
    }

    console.log(
      "sum_of_index_values",
      sum_of_index_values([1, 0, 2, 3, 4], [3, 5, 6, 7, 8, 13])
    );

    // 20. Write a JavaScript program to find duplicate values in a JavaScript array.

    function find_duplicate_in_array(arr) {
      let duplicates = [];
      let hashTable = {};
      for (let i = 0; i < arr.length; i++) {
        let value = arr[i];
        if (hashTable[value]) {
          duplicates.push(value);
        } else {
          hashTable[value] = true;
        }
      }
      return duplicates;
    }

    console.log(
      find_duplicate_in_array([1, 2, -2, 4, 5, 4, 7, 8, 7, 7, 71, 3, 6])
    );

    // 24. Write a JavaScript function to remove. 'null', '0', '""', 'false',
    // 'undefined' and 'NaN' values from an array.
    // Sample array : [NaN, 0, 15, false, -22, '',undefined, 47, null]
    // Expected result : [15, -22, 47]

    function removeNAN(arr) {
      return arr.filter((value) => {
        return (
          !isNaN(value) &&
          value !== 0 &&
          value !== false &&
          value !== "" &&
          value !== undefined &&
          value !== null
        );
      });
    }

    console.log(removeNAN([NaN, 0, 15, false, -22, "", undefined, 47, null]));

    //     25. Write a JavaScript function to sort the following array of objects by title value.
    // Sample object :

    var library = [
      { author: "Bill Gates", title: "The Road Ahead", libraryID: 1254 },
      { author: "Steve Jobs", title: "Walter Isaacson", libraryID: 4264 },
      {
        author: "Suzanne Collins",
        title: "Mockingjay: The Final Book of The Hunger Games",
        libraryID: 3245,
      },
    ];

    function sortByTitle() {
      debugger;
      library.sort((a, b) => {
        debugger;
        return a.title.localeCompare(b.title);
      });
      return library;
    }

    console.log(sortByTitle(), "Title");

    // Expected result :

    // [[object Object] {
    //   author: "Suzanne Collins",
    //   libraryID: 3245,
    //   title:"Mockingjay:The Final Book of The Hunger Games"
    // }, [object Object] {
    //   author: "Bill Gates",
    //   libraryID: 1254,
    //   title: "The Road Ahead"
    // }, [object Object] {
    //   author: "Steve Jobs",
    //   libraryID: 4264,
    //   title: "Walter Isaacson"
    // }]

    // 26. Write a JavaScript program to find a pair of elements
    // (indices of the two numbers) in a given array whose sum equals a
    // specific target number.

    // Input: numbers= [10,20,10,40,50,60,70], target=50
    // Output: 2, 3

    // 21. Write a JavaScript program to flatten a nested (any depth)
    // array. If you pass shallow, the array will only be flattened to a single level.
    // Sample Data :
    // console.log(flatten([1, [2], [3, [[4]]],[5,6]]));
    // [1, 2, 3, 4, 5, 6]
    // console.log(flatten([1, [2], [3, [[4]]],[5,6]], true));
    // [1, 2, 3, [[4]], 5, 6]

    // 18. Write a JavaScript program to perform a binary search.
    // Note : A binary search or half-interval search algorithm finds the
    // position of a specified input value within an array sorted by key value.
    // Sample array :
    // var items = [1, 2, 3, 4, 5, 7, 8, 9];
    // Expected Output :
    // console.log(binary_Search(items, 1)); //0
    // console.log(binary_Search(items, 5)); //4
  </script>
</html>
